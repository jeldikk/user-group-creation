(this["webpackJsonpuser-group-creation"]=this["webpackJsonpuser-group-creation"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),c=n.n(a),s=n(17),o=n.n(s),i=(n(66),n(18)),u=n(19),l=n(22),d=n(21),j=(n(67),n(7)),O=n(9),b=n(104),p=n(102),h=n(106),m=n(24),f=function(){return Object(r.jsx)(b.a,{bg:"dark",variant:"dark",children:Object(r.jsxs)(p.a,{children:[Object(r.jsx)(m.b,{className:"navbar-brand",to:"/",children:"User Group Management"}),Object(r.jsx)(h.a,{className:"ml-auto",children:Object(r.jsxs)(m.b,{className:"nav-link",to:"/create",children:[Object(r.jsx)("span",{className:"mx-1",children:"\u271a"}),"New Group"]})})]})})},g=n(103),E={CREATE_GROUP:"CREATE_GROUP",REMOVE_GROUP:"REMOVE_GROUP"},v=(n(74),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.item,n=t.name,a=t.description;return Object(r.jsxs)("div",{className:"group-list-item shadow-lg",children:[Object(r.jsx)("div",{className:"name text-center",children:n}),Object(r.jsx)("div",{className:"description text-center",children:a}),Object(r.jsx)("div",{className:"buttons ml-auto",children:Object(r.jsx)(g.a,{variant:"danger",onClick:function(){return e.props.removeGroup(n)},children:"Remove"})})]})}}]),n}(a.Component)),x=Object(O.b)(null,(function(e){return{removeGroup:function(t){return e({type:E.REMOVE_GROUP,payload:t})}}}))(v),R=(n(75),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){return console.log(this.props),Object(r.jsxs)("div",{className:"group-list",children:[0===this.props.groups.length?Object(r.jsx)("h4",{children:"There are no groups defined. create one"}):Object(r.jsxs)("h4",{children:["There are ",this.props.groups.length," number of groups"]}),this.props.groups.map((function(e){return Object(r.jsx)(x,{item:e},e.name)}))]})}}]),n}(a.Component)),S=Object(O.b)((function(e){return{groups:e.group.groups}}),null)(R),y=function(){return Object(r.jsx)(p.a,{children:Object(r.jsx)(S,{})})},_=n(44),U=n.n(_),C=n(6),D=n(56),N=n(31),T=n(57),G=n.n(T),k=n(105),w=n(15),A=function(e){return e.users},M=(Object(w.a)([A],(function(e){return e.users})),Object(w.a)([A],(function(e){return e.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))})),Object(w.a)([A],(function(e){return e.sort((function(e,t){return e.name>t.name?-1:e.name<t.name?1:0}))})),{SET_USERS:"SET_USERS",ASC_ORDER:"ASC_ORDER",DSC_ORDER:"DSC_ORDER"}),I=function(e){return{type:M.SET_USERS,payload:e}},P={SET_EDIT_USERS:"SET_EDIT_USERS",ADD_USER:"ADD_USER",REMOVE_USER:"REMOVE_USER",SET_SORT_ORDER:"SET_SORT_ORDER"},V=(n(95),n(96),n(25)),L=function(e){return e.edit},z=Object(w.a)([L],(function(e){return e.users})),F=Object(w.a)([L],(function(e){return e.order})),J=(Object(w.a)([z],(function(e){return Object(V.a)(e).sort((function(e,t){return e.name>t.name?-1:e.name<t.name?1:0}))})),Object(w.a)([z],(function(e){return Object(V.a)(e).sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))})),Object(w.a)([z,F],(function(e,t){return console.log("calling from selectEditOrdered"),console.log("users is",e),console.log("order is",t),null!==t?0===e.length?e:Object(V.a)(e).sort((function(e,n){return e.name>n.name?t?1:-1:e.name<n.name?t?-1:1:0})):e}))),B=(n(97),Object(O.b)(null,(function(e){return{addUser:function(t){return e(function(e){return{type:P.ADD_USER,payload:e}}(t))},removeUser:function(t){return e(function(e){return{type:P.REMOVE_USER,payload:e}}(t))}}}))((function(e){var t=e.user,n=e.addUser,a=e.removeUser,c=t.id,s=t.name,o=t.Image,i=t.selected;return Object(r.jsxs)("div",{className:"user-card",children:[Object(r.jsx)("div",{className:"img-container ".concat(i?"selected":""),children:Object(r.jsx)("img",{className:"img",src:o,alt:"".concat(s,"-").concat(c)})}),Object(r.jsx)("div",{className:"img-description text-center",children:s}),i?Object(r.jsx)(g.a,{variant:"danger",className:"my-button",onClick:function(){return a(t)},children:"Remove User"}):Object(r.jsx)(g.a,{variant:"warning",className:"my-button",onClick:function(){return n(t)},children:"Add User"})]})}))),q=Object(O.b)((function(e){return{orderedList:J(e)}}))((function(e){var t=e.orderedList;e.order;return Object(r.jsx)("div",{className:"user-preview",children:t.map((function(e){return Object(r.jsx)(B,{user:e},e.id)}))})})),H=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).handleOnChange=function(e){var t=e.target,n=t.name,a=t.value;r.setState(Object(N.a)({},n,a))},r.onFormSubmit=function(e){e.preventDefault();var t=r.state,n=t.name,a=t.description;if(0!==n.length&&0!==a.length){var c=r.state.users.filter((function(e){return e.selected}));r.props.createGroup({name:n,description:a,selected:c.map((function(e){return e.id}))}),r.props.history.push("/")}else console.error("Cannot take an empty information")},r.onSortOrderChange=function(e){console.log(e);var t=e.target;t.name;switch(t.value){case"None":r.props.setSortOrder(null);break;case"Ascending":r.props.setSortOrder(!0);break;case"Descending":r.props.setSortOrder(!1)}},r.toggleOrder=function(){r.setState({ascending:!r.state.ascending})},console.log("creategrouppage constructor ",e),r.state={users:[],name:"",description:"",ascending:!0},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("componenet mounted"),function(){var t=Object(D.a)(U.a.mark((function t(){var n,r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.a.get("https://s3-ap-southeast-1.amazonaws.com/he-public-data/users49b8675.json");case 2:n=t.sent,console.log(n.data),e.props.setUsers(n.data),r=n.data.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{selected:!1})})),e.props.setEditUsers(r),e.setState({users:r});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}},{key:"render",value:function(){return Object(r.jsx)("div",{className:"create-group-page",children:Object(r.jsxs)(p.a,{children:[Object(r.jsx)("h1",{children:"Create a New Group"}),Object(r.jsx)("hr",{}),Object(r.jsxs)(k.a,{children:[Object(r.jsxs)(k.a.Group,{controlId:"formGroupName",children:[Object(r.jsx)(k.a.Label,{children:"Name :"}),Object(r.jsx)(k.a.Control,{type:"text",placeholder:"Group Name",name:"name",value:this.state.name,onChange:this.handleOnChange})]}),Object(r.jsxs)(k.a.Group,{controlId:"formGroupDescription",children:[Object(r.jsx)(k.a.Label,{children:"Description :"}),Object(r.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Say Something about this group",name:"description",value:this.state.description,onChange:this.handleOnChange})]}),Object(r.jsx)("h3",{children:"Select Users"}),Object(r.jsx)("div",{className:"sorting-container",children:Object(r.jsxs)(k.a.Group,{className:"sort-control",children:[Object(r.jsx)(k.a.Label,{children:"Sort by Name :"}),Object(r.jsxs)(k.a.Control,{as:"select",name:"sort_by_name",onChange:this.onSortOrderChange,children:[Object(r.jsx)("option",{children:"None"}),Object(r.jsx)("option",{children:"Ascending"}),Object(r.jsx)("option",{children:"Descending"})]})]})}),Object(r.jsx)(q,{userList:this.state.users,onAdd:this.onUserAdd,onRemove:this.onUserRemove,order:this.state.ascending}),Object(r.jsx)(g.a,{type:"submit",variant:"primary",size:"lg",onClick:this.onFormSubmit,children:"Create Group"})]})]})})}}]),n}(c.a.Component),K=Object(O.b)(null,(function(e){return{createGroup:function(t){return e({type:E.CREATE_GROUP,payload:t})},setUsers:function(t){return e(I(t))},setEditUsers:function(t){return e({type:P.SET_EDIT_USERS,payload:t})},setSortOrder:function(t){return e(function(e){return{type:P.SET_SORT_ORDER,payload:e}}(t))}}}))(Object(j.f)(H)),Q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(f,{}),Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{exact:!0,path:"/",component:y}),Object(r.jsx)(j.a,{path:"/create",component:K})]})]})}}]),n}(a.Component),W=Object(O.b)(null,(function(e){return{setUsers:function(t){return e(I(t))}}}))(Q),X=n(58),Y=n(14),Z=n(32),$=n(59),ee=n.n($),te=n(60),ne={groups:[]},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.CREATE_GROUP:return Object(C.a)(Object(C.a)({},e),{},{groups:[].concat(Object(V.a)(e.groups),[t.payload])});case E.REMOVE_GROUP:return Object(C.a)(Object(C.a)({},e),{},{groups:e.groups.filter((function(e){return e.name!==t.payload}))});default:return e}},ae={users:[]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.SET_USERS:return Object(C.a)(Object(C.a)({},e),{},{users:t.payload});default:return e}},se={name:"",description:"",users:[],order:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.ADD_USER:return console.log("stae in editReducer",e),Object(C.a)(Object(C.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.id?Object(C.a)(Object(C.a)({},e),{},{selected:!0}):e}))});case P.REMOVE_USER:return Object(C.a)(Object(C.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.id?Object(C.a)(Object(C.a)({},e),{},{selected:!1}):e}))});case P.SET_EDIT_USERS:return Object(C.a)(Object(C.a)({},e),{},{users:t.payload});case P.SET_SORT_ORDER:return Object(C.a)(Object(C.a)({},e),{},{order:t.payload});default:return e}},ie={key:"user-group-root",storage:n.n(te).a,whitelist:["group","users"]},ue=Object(Y.c)({group:re,users:ce,edit:oe}),le=Object(Z.a)(ie,ue),de=[ee.a],je=Object(Y.d)(le,Y.a.apply(void 0,de)),Oe=Object(Z.b)(je);o.a.render(Object(r.jsx)(O.a,{store:je,children:Object(r.jsx)(m.a,{children:Object(r.jsx)(X.a,{persistor:Oe,children:Object(r.jsx)(W,{})})})}),document.getElementById("root"))},66:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.c0bee3c1.chunk.js.map